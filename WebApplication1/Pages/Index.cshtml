@page
@model IndexModel
@{
    ViewData["Title"] = "Acasă";
}

@* Hero Section - Jumbotron modernizat - Fundal alb și text contrastant negru *@
<div class="p-5 text-center bg-white rounded-3 shadow-lg border border-secondary border-opacity-25">
    <h1 class="display-3 fw-bold text-dark">
        <i class="fas fa-coffee text-primary me-2"></i> Revia
    </h1>
    <p class="lead text-muted mb-5">
        Descoperă cele mai bune localuri din comunitatea ta.
        **Recenzii autentice. Recompense pe măsură.**
    </p>

    <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
        @* Butoanele rămân la fel, doar le dăm text negru dacă sunt outline *@
        <a asp-page="/Locations/Index" class="btn btn-primary btn-lg px-5 shadow-sm text-uppercase fw-bold">
            <i class="fas fa-search me-2"></i> Explorează Localuri
        </a>

        @if (User.IsInRole("Owner"))
        {
            <a asp-page="/Locations/Create" class="btn btn-success btn-lg px-4 shadow-sm">
                <i class="fas fa-plus me-2"></i> Adaugă Local Nou
            </a>
        }

        @if (!User.Identity.IsAuthenticated)
        {
            @* Butonul de înregistrare devine outline-dark (negru conturat) *@
            <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-outline-dark btn-lg px-4 shadow-sm">
                <i class="fas fa-user-plus me-2"></i> Înregistrează-te
            </a>
        }
    </div>
</div>

<hr class="my-5 border-secondary" />

@* Secțiunea de Caracteristici - Carduri pe fundal alb/luminos *@
<div class="row text-center">

    @* Card 1: Local *@
    <div class="col-md-4 mb-4">
        <div class="card h-100 bg-white border shadow-sm p-3 lift-on-hover">
            @* bg-white, border-ul implicit e ok *@
            <div class="card-body">
                <i class="fas fa-map-marker-alt fa-3x text-primary mb-3"></i>
                <h3 class="card-title fw-bold text-dark">Descoperă</h3>
                <p class="card-text text-muted">Găsește locuri ascunse chiar în cartierul tău, indiferent de nișă.</p>
            </div>
        </div>
    </div>

    @* Card 2: Autentic *@
    <div class="col-md-4 mb-4">
        <div class="card h-100 bg-white border shadow-sm p-3 lift-on-hover">
            <div class="card-body">
                <i class="fas fa-star fa-3x text-warning mb-3"></i>
                <h3 class="card-title fw-bold text-dark">Autentic</h3>
                <p class="card-text text-muted">Recenzii verificate de "Local Guides" și scrise de o comunitate reală.</p>
            </div>
        </div>
    </div>

    @* Card 3: Gamificat *@
    <div class="col-md-4 mb-4">
        <div class="card h-100 bg-white border shadow-sm p-3 lift-on-hover">
            <div class="card-body">
                <i class="fas fa-level-up-alt fa-3x text-success mb-3"></i>
                <h3 class="card-title fw-bold text-dark">Recompensat</h3>
                <p class="card-text text-muted">Primești XP și crești în nivel pentru fiecare contribuție, devenind un Local Guide.</p>
            </div>
        </div>
    </div>
    @if (Model.TopLocations.Any())
    {
        <div class="row">
            @foreach (var item in Model.TopLocations)
            {
                <div class="col-md-4 mb-4">
                    <div class="card h-100 shadow-sm border-0">
                        @if (!string.IsNullOrEmpty(item.ImageUrl))
                        {
                            <img src="@item.ImageUrl" class="card-img-top" alt="@item.Name" style="height: 200px; object-fit: cover;">
                        }
                        <div class="card-body">
                            <h5 class="card-title fw-bold">@item.Name</h5>

                            <div class="mb-2 text-warning">
                                <span class="fw-bold text-dark me-1">@item.AverageRating</span>
                                <i class="fas fa-star"></i>
                                <span class="text-muted small">(@item.ReviewCount recenzii)</span>
                            </div>

                            <p class="card-text text-muted small"><i class="fas fa-map-marker-alt me-1"></i> @item.Address</p>
                            <a asp-page="/Locations/Details" asp-route-id="@item.Id" class="btn btn-outline-primary btn-sm w-100">Vezi Localul</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>